### Environment Variables Declaration
@base_url = http://127.0.0.1:8000

### List all test records
GET {{base_url}}/test_chatflow_records/
Accept: application/json

###

### Get a record by ID = 1
GET {{base_url}}/test_chatflow_records/1
Accept: application/json

###

### Create a new record with an uploaded file
POST {{base_url}}/test_chatflow_records/
Content-Type: multipart/form-data; boundary=WebKitFormBoundary7MA4YWxkTrZu0gW

--WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="example.csv"
Content-Type: text/csv

< ./example.csv
--WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="status"

init
--WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="duration"

10
--WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="result"

pending
--WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="concurrency"

5
--WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="dify_api_url"

https://api.example.com/test
--WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="dify_api_key"

abcd1234
--WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="dify_username"

robertwang
--WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="chatflow_query"

What is the capital of France?
--WebKitFormBoundary7MA4YWxkTrZu0gW--

###

### Create a new record without a file using JSON
POST {{base_url}}/test_chatflow_records/
Content-Type: application/json

{
  "filename": "existing-dataset.csv",
  "status": "init",
  "duration": 10,
  "result": "pending",
  "concurrency": 5,
  "dify_api_url": "https://api.example.com/test",
  "dify_api_key": "abcd1234",
  "dify_username": "robertwang",
  "chatflow_query": "What is the capital of France?"
}

###

### Update record with ID = 1
PATCH {{base_url}}/test_chatflow_records/d333ff0e-aa01-4f37-9262-f59fdb8e860a
Content-Type: application/json

{
  "status": "running",
  "duration": 20,
  "result": "in progress"
}

###

### Delete record with ID = 1
DELETE {{base_url}}/test_chatflow_records/d333ff0e-aa01-4f37-9262-f59fdb8e860a
Accept: application/json
